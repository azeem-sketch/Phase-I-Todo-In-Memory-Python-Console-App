# Evolution of Todo: Global Constitution

This document acts as the supreme governing document for the "Evolution of Todo" project. All agents and automated processes must adhere to these principles throughout all phases (Phase I through Phase V).

## 1. Spec-Driven Development (SDD)
SDD is mandatory for all development activities.
- **Protocol**: Constitution → Specifications → Technical Plan → Task List → Implementation.
- **Strict Execution**: No agent may write implementation code without approved specifications and a task roadmap.
- **Atomic Tasks**: Development must be broken into small, verifiable tasks.

## 2. Agent Behavior Rules
- **No Manual Coding**: All code must be generated by authorized AI agents based on specs.
- **No Feature Invention**: Agents must not implement features or logic not explicitly defined in the approved specifications.
- **No Deviation**: Approved specs are final. Changes must happen at the spec level before code is touched.
- **Spec Refinement**: If a technical hurdle is found, the agent must propose a spec change rather than fixing it "on the fly" in code.

## 3. Phase Governance
- **Scoped Phases**: Each phase (I: CLI, II: Web API, III: DB, IV: Microservices, V: AI Native) is strictly bounded by its spec.
- **No Leakage**: Features intended for future phases (e.g., database persistence in Phase I) must not be implemented early.
- **Architectural Evolution**: The system architecture evolves strictly through updated specs and migration plans.

## 4. Technology Constraints
- **Language**: Python (Backend), TypeScript/Next.js (Frontend).
- **Core Frameworks**: FastAPI (API), SQLModel (ORM), Pydantic (Validation).
- **Infrastructure**: Neon DB (PostgreSQL), Docker, Kubernetes (later phases).
- **Connectivity**: MCP (Model Context Protocol), Kafka/Dapr (later phases).
- **Agents**: OpenAI Agents SDK for autonomous task handling.

## 5. Quality Principles
- **Clean Architecture**: Strict separation of concerns (Models, Services, CLI/API, Repository).
- **Statelessness**: Services should be stateless where required by the phase.
- **Reliability**: Comprehensive error handling and type safety.
- **Cloud-Native**: Design logic with distributed systems and scalability in mind from the start.

## 6. Project Structure
The repository structure is strictly defined:
- `.claude/commands`: Custom agent instructions/commands.
- `history/prompts`: Record of major prompt engineering and design decisions.
- `specs/`: Phase-specific requirements and technical specifications.
- `src/`: Source code organized by service/component.
- `sp.constitution`: This document.
